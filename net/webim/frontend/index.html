<!DOCTYPE html>
<html>

<head>
    <title>Ws </title>
</head>

<body>

    <h1>WebSocket Echo Test</h1>
    <form>
        <p>
            Message: <input id="message" type="text" value="">
        </p>
    </form>
    <button onclick="send();">Send Message</button>
</body>
<script type="text/javascript">
    var sock = null;
    var wsuri = "ws://localhost:60012";
    console.log("onload");

    sock = new WebSocket(wsuri);

    sock.onopen = function() {
        console.log("connected to " + wsuri);
    }

    sock.onclose = function(e) {
        console.log("connection closed (" + e.code + ")");
    }

    sock.onmessage = function(e) {
        console.log("message received: " + e.data);
    }


    function send() {
        var msg = document.getElementById('message').value;
        sock.send(msg);
    };
</script>

</html>
